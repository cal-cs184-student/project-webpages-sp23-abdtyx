<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG2"] path[data-c], mjx-container[jax="SVG2"] use[data-c] {
  stroke-width: 3;
}

g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}

.MathJax g[data-mml-node="xypic"] path {
  stroke-width: inherit;
}
mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
							stroke-width: 0;
						}
</style><title>proj4</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <style>
    body {
      background-color: #404040;
      background-color: white;
      padding: 100px;
      width: 1000px;
      margin: auto;
      text-align: left;
      font-weight: 300;
      font-family: 'Open Sans', sans-serif;
      color: #121212;
      /* cursor: url(https://rsha256.github.io/teapot-clear32.png), default!important;
      cursor: url(https://rsha256.github.io/teapot-clear32.png), pointer!important; */
      cursor: url(https://rsha256.github.io/dragon-clear32.png), default!important;
      cursor: url(https://rsha256.github.io/dragon-clear32.png), pointer!important;
      /* cursor: url(https://rsha256.github.io/cloth-clear-32.png), default!important;
      cursor: url(https://rsha256.github.io/cloth-clear-32.png), pointer!important; */
    }
    h1, h2, h3, h4 {
      font-family: 'Source Sans Pro', sans-serif;
    }
    kbd {
      color: #121212;
    }
    blockquote {
      color: #888;
      border: 2px solid #333;
      padding: 10px;
      background-color: #ccc;
    }
    table.custom-tbl {
      border: 1px solid;
    }
	table.custom-tbl th {
	  border: 1px solid;
	  background-color: rgb(99, 209, 209);
	}
	table.custom-tbl td {
	  border: 1px solid;
	  background-color: #f1e686a8;
	}
</style>
  <title>CS 184 Cloth Simulator</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <!-- Not using below due to lacking bold fontfaces -->
  <!-- <link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro|Source+Sans+Pro:400,700" rel="stylesheet"> -->
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono|Roboto+Slab|Roboto:300,400,500,700" rel="stylesheet" />
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>  
</head><body>  <h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2023</h1>
  <h1 align="middle">Project 4: Cloth Simulator</h1>
  <h2 align="middle">Yuxiao Tang</h2><p><span>  </span><br><br></p><p><span>Credit: This webpage uses the template from </span><a href='https://edstem.org/us/courses/33060/discussion/2869424'><span>CS 184/284A – Ed Discussion (edstem.org)</span></a><span>.</span></p><p><span>My webpage link: </span><a href='https://cal-cs184-student.github.io/project-webpages-sp23-abdtyx/proj4/index.html' target='_blank' class='url'>https://cal-cs184-student.github.io/project-webpages-sp23-abdtyx/proj4/index.html</a></p>  <div>
    <h2 align="middle">Overview</h2>
    <p>In this project, we implemented a simulator to demonstrate the behavior of the cloth. There are two kinds of forces we want to deal with, the external forces and spring correction forces. When we correctly add springs and handle forces, we can simulate basic cloths. Then we need to handle collision with other objects and the cloth itself. After we apply the Verlet integration to updating the point mass positions, we need to correct their position to prevent collision. In the end, we implemented several shaders to create different kinds of visual effects on the objects.</p>
  </div><p><span>  </span><a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-1"></p>  <h2 align="middle">Part 1: Masses and springs</h2><p><span>  </span></a>
<span>    </span><blockquote><b>
<span>      Take some screenshots of </span><i><span>scene/pinned2.json</span></i><span> from a viewing angle where you can clearly see the cloth wireframe </span>
<span>      to show the structure of your point masses and springs. </span>
<span>    </span></b></blockquote></p><p><span>After we implemente part 1 we get the following images which simply show the cloth wireframe. By adjusting the constraints, the wireframe behaves differently. We have tested all combinations of the three constraints and they all look good. We can also use the GUI to change the color of wireframe. The second image shows a green wireframe.</span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part1/Screenshot 2023-04-10 000536.png" align="middle" width="300vw" />
          <figcaption>Default configuration</figcaption>
      </td>
      <td>
        <img src="images/part1/Screenshot 2023-04-10 001026.png" align="middle" width="300vw" />
          <figcaption>Green wireframe</figcaption>
      </td>
      <td>
        <img src="images/part1/Screenshot 2023-04-10 000636.png" align="middle" width="300vw" />
          <figcaption>Structural</figcaption>
      </td>
    </tr>
  </table>
</div>
<blockquote><b>
  Show us what the wireframe looks like (1) without any shearing constraints, 
  (2) with only shearing constraints, and (3) with all constraints.
</b></blockquote><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part1/NoShearing.png" align="middle" width="500px" />
        <figcaption>No shearing constraints</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/part1/Shearing.png" align="middle" width="500px" />
        <figcaption>Only shearing constraints</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/part1/Screenshot 2023-04-10 000536.png" align="middle" width="500px" />
        <figcaption>All constraints</figcaption>
      </td>
    </tr>
  </table>
</div><p>&nbsp;</p><p><span>  </span><a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-2"></p>  <h2 align="middle">Part 2: Simulation via numerical integration</h2><p><span>  </span></a></p><blockquote><b>
  Experiment with some the parameters in the simulation. 
  To do so, pause the simulation at the start with <kbd>P</kbd>, modify the values of interest, and then resume by pressing <kbd>P</kbd> again. 
  You can also restart the simulation at any time from the cloth's starting position by pressing <kbd>R</kbd>.
  <br />
</b></blockquote><p><span>After correctly implementing part 2, we run the simulation on default parameters and get the following result. We can see that two corners of the cloth is pinned and the cloth sagges naturally.</span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part2/Default.png" align="middle" width="500px" />
        <figcaption>Default parameters</figcaption>
      </td>
    </tr>
  </table>
</div><blockquote><b>
  <small>
      Describe the effects of changing the spring constant <code>ks</code>; how does the cloth behave from start to rest with a very low <code>ks</code>? 
      A high <code>ks</code>?
  </small>
</b></blockquote><p><span>If we set the value of </span><code>ks</code><span> very low, the cloth will behave like a paper. Since </span><code>ks</code><span> is low, the behavior of the cloth is largely dominated by external forces and the spring correction forces are ignored. On the contrary, when </span><code>ks</code><span> gradually becomes higher, the spring correction forces become dominant and the cloth looks more flat. It is worth noting that when </span><code>ks</code><span> is extremely high, the behavior of the cloth becomes unpredictable and gets messed up.</span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part2/ks=0.png" align="middle" width="400vw" />
        <figcaption>ks=0</figcaption>
      </td>
      <td>
        <img src="images/part2/ks=400000.png" align="middle" width="400vw" />
        <figcaption>ks=400000</figcaption>
      </td>
    </tr>
  </table>
</div><p>&nbsp;</p><blockquote><b>
  <small>
    What about for <code>density</code>?
  </small>
</b></blockquote><p><span>Smaller density means smaller mass, which is equivalent to higher </span><code>ks</code><span>. The cloth looks more flat. But the value of density can&#39;t be set to very close to 0. This is because we need to compute </span><code>accleration</code><span> by </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="9.026ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3989.6 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-2-TEX-I-1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path><path id="MJX-2-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-2-TEX-I-1D439" d="M48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1Z"></path><path id="MJX-2-TEX-N-2F" d="M423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750Z"></path><path id="MJX-2-TEX-I-1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D44E" xlink:href="#MJX-2-TEX-I-1D44E"></use></g><g data-mml-node="mo" transform="translate(806.8,0)"><use data-c="3D" xlink:href="#MJX-2-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(1862.6,0)"><use data-c="1D439" xlink:href="#MJX-2-TEX-I-1D439"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(2611.6,0)"><g data-mml-node="mo"><use data-c="2F" xlink:href="#MJX-2-TEX-N-2F"></use></g></g><g data-mml-node="mi" transform="translate(3111.6,0)"><use data-c="1D45A" xlink:href="#MJX-2-TEX-I-1D45A"></use></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>=</mo><mi>F</mi><mrow data-mjx-texclass="ORD"><mo>/</mo></mrow><mi>m</mi></math></mjx-assistive-mml></mjx-container><script type="math/tex">a = F/m</script><span>. When </span><code>density=0.2</code><span>, the behavior of the cloth looks the same as </span><code>ks=400000</code><span>. When </span><code>density&lt;=0.1</code><span>, the simulation gets messed up and the cloth disappears. When density becomes larger, the external forces become dominant and wrinkles start to appear on the cloth. When density is extremely large, the cloth becomes as flat as a paper. </span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part2/density=0.2.png" align="middle" width="400vw" />
        <figcaption>density=0.2</figcaption>
      </td>
      <td>
        <img src="images/part2/density=1.png" align="middle" width="400vw" />
        <figcaption>density=1</figcaption>
      </td>
      <td>
        <img src="images/part2/density=10000.png" align="middle" width="400vw" />
        <figcaption>density=10000</figcaption>
      </td>
    </tr>
  </table>
</div><blockquote><b>
  <small>
    What about for <code>damping</code>?
  </small>
</b></blockquote><p><span>Smaller damping means less energy loss. When we set </span><code>damping=0</code><span>, there is no energy loss and the cloth keeps swing back and forth and never stops. The gravitational potential energy of the cloth is completely converted into the elastic potential energy of the spring. When </span><code>damping</code><span> becomes larger, the cloth looks lighter. When we set </span><code>damping=1</code><span>, the cloth behaves like a feather and falls very slowly.</span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part2/damping=0l.png" align="middle" width="400vw" />
      </td>
      <td>
        <img src="images/part2/damping=0m.png" align="middle" width="400vw" />
      </td>
      <td>
        <img src="images/part2/damping=0r.png" align="middle" width="400vw" />
      </td>
    </tr>
  </table>
</div><center>damping=0, cloth swings back and forth</center><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part2/damping=1.png" align="middle" width="400vw" />
        <figcaption>damping=1</figcaption>
      </td>
    </tr>
  </table>
</div><p>&nbsp;</p><blockquote><b>
Show us a screenshot of your shaded cloth from <i>scene/pinned4.json</i> in its final resting state! 
If you choose to use different parameters than the default ones, please list them.
</b></blockquote><p><span>We choose to use default parameters and here is the final resting state of the simulation.</span></p><div align="middle">
  <img src="images/part2/pinned4.png" align="middle" width="400vw" />
  <figcaption>scene/pinned4.json</figcaption>
</div><p>&nbsp;</p><p><span>  </span><a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-3"></p>  <h2 align="middle">Part 3: Handling collisions with other objects</h2><p><span>  </span></a>
<span>    </span><blockquote><b>
<span>      Show us screenshots of your shaded cloth from </span><i><span>scene/sphere.json</span></i><span> in its final resting state </span>
<span>      on the sphere using the default </span><code><span>ks = 5000</span></code><span> as well as with </span><code><span>ks = 500</span></code><span> and </span><code><span>ks = 50000</span></code><span>. </span>
<span>    </span></b></blockquote></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part3/ks=500.png" align="middle" width="300vw" />
        <figcaption>$\text{ks} = 500$</figcaption>
      </td>
      <td>
        <img src="images/part3/ks=5000.png" align="middle" width="300vw" />
        <figcaption>Initial configuration ($\text{ks} = 5,000$)</figcaption>
      </td>
      <td>
        <img src="images/part3/ks=50000.png" align="middle" width="300vw" />
        <figcaption>$\text{ks} = 50,000$</figcaption>
      </td>
    </tr>
  </table>
</div>
<blockquote><b>
  <small>Describe the differences in the results.</small>
</b></blockquote><p><span>The simulation with default parameters looks the most realistic when it comes to common fabrics. When we set </span><code>ks=500</code><span>, the cloth looks slack due to less spring correction forces. The gravity tries to pull the whole cloth down, so it adheres closely to the surface of the sphere. I think fabrics such as the silk are more likely to behave like that. When we set </span><code>ks=50000</code><span>, the cloth looks weird. The spring correction forces stretch the cloth up. It&#39;s more like you put a plate of iron on the sphere and smash the four corners down rather than a piece of cloth.</span></p><blockquote><b>
  Show us a screenshot of your shaded cloth lying peacefully at rest on the plane. 
  If you haven't by now, feel free to express your colorful creativity with the cloth! 
  (You will need to complete the shaders portion first to show custom colors.)
</b></blockquote><div align="middle">
  <img src="images/part3/plane.png" align="middle" width="100%" />
</div><p><span>The cloth successfully lies on the plane. However, there is one thing I have to point out. Although the cloth looks good most of the time, it will be flickering sometimes. I think this might be caused by numeric precision problems.</span></p><p><span>  </span><a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-4"></p>  <h2 align="middle">Part 4: Handling self-collisions</h2><p><span>  </span></a></p><blockquote><b>
  Show us at least 3 screenshots that document how your cloth falls and folds on itself, 
  starting with an early, initial self-collision 
  and ending with the cloth at a more restful state (even if it is still slightly bouncy on the ground).
</b></blockquote>
<div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part4/C1.png" align="middle" width="300vw" />
        <figcaption>Self collision 1</figcaption>
      </td>
      <td>
        <img src="images/part4/C2.png" align="middle" width="300vw" />
        <figcaption>Self collision 2</figcaption>
      </td>
      <td>
        <img src="images/part4/C3.png" align="middle" width="300vw" />
        <figcaption>Self collision 3</figcaption>
      </td>
    </tr>
  </table>
</div>
<blockquote><b>
  Vary the <code>density</code> as well as <code>ks</code> 
      and describe with words and screenshots how they affect the behavior of the cloth as it falls on itself.
    </b></blockquote><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
          <img src="images/part4/density=0.3.png" align="middle" width="400px" />
          <figcaption>$\text{density} = 0.3$</figcaption>
      </td>
      <td>
          <img src="images/part4/density=10000.png" align="middle" width="400px" />
          <figcaption>$\text{density} = 10000$</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
          <img src="images/part4/ks=1.png" align="middle" width="400px" />
          <figcaption>$\text{ks} = 1$</figcaption>
      </td>
      <td>
          <img src="images/part4/ks=300000.png" align="middle" width="400px" />
          <figcaption>$\text{ks} = 300000$</figcaption>
      </td>
    </tr>
  </table>
</div><p><span>When density is very large, the cloth is squashed together and we can see many wrinkles on the cloth. After the simulation ran a while, the program crashed due to an exception. When density is very small, the cloth curls up and starts to walk on the plane! From the image we can see that the cloth gets far away from where it starts. Things became more interesting when we observed further, the cloth kept walking around on the plane like a creature. After doing some experiments on </span><code>ks</code><span>, we found that when ks is large, the cloth&#39;s behavior is similar to that when density is small, and vice versa. Therefore, the behavior of the cloth is largely determined by the dominant forces. In other words, when </span><code>ks</code><span> is small or density is large, the external forces are dominant. When </span><code>ks</code><span> is large or density is small, the spring correction forces are dominant.</span></p><p><span>  </span><a href="https://cs184.eecs.berkeley.edu/sp23/docs/proj4-part-5"></p>  <h2 align="middle">Part 5: Cloth Sim</h2><p><span>  </span></a></p><blockquote><b>
Explain in your own words what is a shader program and how vertex and fragment shaders work together to create lighting and material effects.
</b></blockquote><p><span>A shader program is a set of C-like instructions that define how graphics and visual effects are rendered. The vertex shader converts coordinates of vertices from world space into model space and finally into screen space. The fragment shader determines the color of the fragment based on lighting, material properties, and other visual effects. They work together to create realistic lighting and material effects.</span></p><blockquote><b>
Explain the Blinn-Phong shading model in your own words. 
Show a screenshot of your Blinn-Phong shader outputting only the ambient component, a screen shot only outputting the diffuse component, a screen shot only outputting the specular component, and one using the entire Blinn-Phong model.
</b></blockquote><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
          <img src="images/part5/Ambient.png" align="middle" width="400px" />
          <figcaption>Ambient component only</figcaption>
      </td>
      <td>
          <img src="images/part5/Diffuse.png" align="middle" width="400px" />
          <figcaption>Diffuse component only</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
          <img src="images/part5/Specular.png" align="middle" width="400px" />
          <figcaption>Specular component only</figcaption>
      </td>
      <td>
          <img src="images/part5/Blinn-Phong.png" align="middle" width="400px" />
          <figcaption>Complete Blinn-Phong model</figcaption>
      </td>
    </tr>
  </table>
</div><p><span>The Blinn-Phong shading model includes three components which are ambinent lighting, diffuse reflection and specular highlights respectively. Ambient lighting is a constant color implemented by hard code. Diffuse reflection takes all source lights into account and composes the main visual effects of an object. Specular highlights make the surface near mirror reflection direction bright. Blinn-Phong shading model combines the three components together to make an object look more realistic.</span></p><blockquote><b>
Show a screenshot of your texture mapping shader using your own custom texture by modifying the textures in <code>/textures/</code>.
</b></blockquote><div align="middle">
  <img src="images/part5/texture.png" align="middle" width="100%" />
</div><p><span>I replaced </span><code>textures/texture_1.png</code><span> with my custom texture and it looks good.</span></p><blockquote><b>
Show a screenshot of bump mapping on the cloth and on the sphere. 
Show a screenshot of displacement mapping on the sphere. 
Use the same texture for both renders. 
You can either provide your own texture or use one of the ones in the textures directory, 
BUT choose one that's not the default <code>texture_2.png</code>. 
Compare the two approaches and resulting renders in your own words. 
Compare how your the two shaders react to the sphere by changing the sphere mesh's coarseness by using <code>-o 16 -a 16</code> and then <code>-o 128 -a 128</code>.
</b></blockquote><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part5/BumpCloth.png" align="middle" width="400vw" />
        <figcaption>Bump Mapping on the Cloth</figcaption>
      </td>
      <td>
        <img src="images/part5/BumpSphere.png" align="middle" width="400vw" />
        <figcaption>Bump Mapping on the Sphere</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/part5/DisplacementSphere.png" align="middle" width="400vw" />
        <figcaption>Displacement Mapping on the Sphere</figcaption>
      </td>
      <td>
        <img src="images/part5/DisplacementCloth.png" align="middle" width="400vw" />
        <figcaption>Displacement Mapping on the Cloth</figcaption>
      </td>
    </tr>
  </table>
</div><p><span>Using the bump shader we can see realistic lighting effects such as bumps on the sphere and the cloth. We modified the normal vector of the vertex so that from the shader&#39;s view, the surface is no longer smooth. In result, when we look at the objects, we are able to see &quot;bumps&quot; on the surface. Using the displacement shader, the objects look uneven. The position of the vertex displaces according to </span><mjx-container class="MathJax" jax="SVG" style="position: relative;"><svg xmlns="http://www.w3.org/2000/svg" width="23.061ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 10192.8 1000" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" style="vertical-align: -0.566ex;"><defs><path id="MJX-27-TEX-I-1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path><path id="MJX-27-TEX-N-2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path><path id="MJX-27-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-27-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-27-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-27-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-27-TEX-I-210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path><path id="MJX-27-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-27-TEX-I-1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path id="MJX-27-TEX-N-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path id="MJX-27-TEX-I-1D463" d="M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"></path><path id="MJX-27-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-27-TEX-I-1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45D" xlink:href="#MJX-27-TEX-I-1D45D"></use></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(503,0)"><g data-mml-node="mo"><use data-c="2032" xlink:href="#MJX-27-TEX-N-2032"></use></g></g><g data-mml-node="mo" transform="translate(1055.8,0)"><use data-c="3D" xlink:href="#MJX-27-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(2111.6,0)"><use data-c="1D45D" xlink:href="#MJX-27-TEX-I-1D45D"></use></g><g data-mml-node="mo" transform="translate(2836.8,0)"><use data-c="2B" xlink:href="#MJX-27-TEX-N-2B"></use></g><g data-mml-node="mi" transform="translate(3837,0)"><use data-c="1D45B" xlink:href="#MJX-27-TEX-I-1D45B"></use></g><g data-mml-node="mo" transform="translate(4659.2,0)"><use data-c="2217" xlink:href="#MJX-27-TEX-N-2217"></use></g><g data-mml-node="mi" transform="translate(5381.4,0)"><use data-c="210E" xlink:href="#MJX-27-TEX-I-210E"></use></g><g data-mml-node="mo" transform="translate(5957.4,0)"><use data-c="28" xlink:href="#MJX-27-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(6346.4,0)"><use data-c="1D462" xlink:href="#MJX-27-TEX-I-1D462"></use></g><g data-mml-node="mo" transform="translate(6918.4,0)"><use data-c="2C" xlink:href="#MJX-27-TEX-N-2C"></use></g><g data-mml-node="mi" transform="translate(7363.1,0)"><use data-c="1D463" xlink:href="#MJX-27-TEX-I-1D463"></use></g><g data-mml-node="mo" transform="translate(7848.1,0)"><use data-c="29" xlink:href="#MJX-27-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(8459.3,0)"><use data-c="2217" xlink:href="#MJX-27-TEX-N-2217"></use></g><g data-mml-node="msub" transform="translate(9181.6,0)"><g data-mml-node="mi"><use data-c="1D458" xlink:href="#MJX-27-TEX-I-1D458"></use></g><g data-mml-node="mi" transform="translate(554,-150) scale(0.707)"><use data-c="210E" xlink:href="#MJX-27-TEX-I-210E"></use></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mrow data-mjx-texclass="ORD"><mo data-mjx-pseudoscript="true">′</mo></mrow><mo>=</mo><mi>p</mi><mo>+</mo><mi>n</mi><mo>∗</mo><mi>h</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo><mo>∗</mo><msub><mi>k</mi><mi>h</mi></msub></math></mjx-assistive-mml></mjx-container><script type="math/tex">p′=p+n∗h(u,v)*k_h</script><span> to reflect the height map. Consequently, ravines appear on the surface of the sphere and cloth.</span></p><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part5/Bump16.png" align="middle" width="400vw" />
        <figcaption>Bump Mapping on the Sphere (-o 16 -a 16)</figcaption>
      </td>
      <td>
        <img src="images/part5/Bump128.png" align="middle" width="400vw" />
        <figcaption>Bump Mapping on the Sphere (-o 128 -a 128)</figcaption>
      </td>
    </tr>
    <tr align="center">
      <td>
        <img src="images/part5/Displacement16.png" align="middle" width="400vw" />
        <figcaption>Displacement Mapping on the Sphere (-o 16 -a 16)</figcaption>
      </td>
      <td>
        <img src="images/part5/Displacement128.png" align="middle" width="400vw" />
        <figcaption>Displacement Mapping on the Sphere (-o 128 -a 128)</figcaption>
      </td>
    </tr>
  </table>
</div><p><span>For bump shader, when the resolution is higher, the details on the sphere become more clear. However, for displacement shader, when the resolution is higher, the whole sphere gets distored as well as the details on the sphere. If we take a closer look at the images, we will see jaggies when the resolution is high. That is because higher resolution means higher scaling coefficient, which results in larger displacement of the vertices. Therefore, we need to find a better way to update the vertex positions so that the image is not distorted.</span></p><blockquote><b>
Show a screenshot of your mirror shader on the cloth and on the sphere.
</b></blockquote><div align="middle">
  <table style="width:100%">
    <tr align="center">
      <td>
        <img src="images/part5/MirrorCloth.png" align="middle" width="400vw" />
        <figcaption>Mirror Shader on the Cloth</figcaption>
      </td>
      <td>
        <img src="images/part5/MirrorSphere.png" align="middle" width="400vw" />
        <figcaption>Mirror Shader on the Sphere</figcaption>
      </td>
    </tr>
  </table>
</div><p><span>The built-in function </span><code>reflect</code><span> is so helpful that I only wrote 3 lines of code in this part. We can see the environment gets reflected on the cloth and sphere like a mirror.</span></p></body>
</html></div></div>
</body>
</html>